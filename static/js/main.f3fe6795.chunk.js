(this.webpackJsonprestaurant_app=this.webpackJsonprestaurant_app||[]).push([[0],{41:function(e,t,a){e.exports=a(56)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),o=a.n(s),c=(a(46),a(14)),l=a(15),i=a(17),u=a(16),p=(a(47),a(25)),h=a(34),m=a(20),g=a(38),d=a(23);a(48);console.log("AIzaSyCtsU4hkzYAIbx3woGLJ-zekJUWxh9T3Oc");var y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).updateSearchPhrase=function(e){n.setState({searchPhrase:e})},n.componentDidMount=function(){n.getData()},n.getData=function(){console.log("test");var e=n.state.searchPhrase;console.log(e);var t="https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=".concat("AIzaSyCtsU4hkzYAIbx3woGLJ-zekJUWxh9T3Oc","&radius=100000&location=38.0293,-78.4767&type=restaurant&keyword=").concat(e);fetch(t).then((function(e){e.json()})).then((function(e){n.props.setData(e)})).catch((function(e){return console.log(e)}))},n.passSearchInput=function(e){console.log(e),n.setState((function(){return{SearchText:document.getElementById("SearchText").value}}))},n.state={searchPhrase:""},n.updateSearchPhrase=n.updateSearchPhrase.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g.a,{className:"TopPanel"},r.a.createElement(h.a,null,r.a.createElement(h.a.Group,null,r.a.createElement("h3",null,"Charlottesville Restaurant Search"),r.a.createElement(h.a.Control,{onChange:function(t){return e.updateSearchPhrase(t.target.value)},id:"SearchText",className:"SearchBar",type:"textarea",placeholder:"Search for a Charlottesville restaurant"}))),r.a.createElement(m.a,{onClick:this.getData},"Search"),r.a.createElement(d.a,null,r.a.createElement(d.a.Toggle,{variant:"success",id:"dropdown-basic"},"Sort by..."),r.a.createElement(d.a.Menu,null,["Prominence","Price (Lowest to Highest)","Price (Highest to Lowest)","Rating","Open Now"].map((function(t){return r.a.createElement(d.a.Item,{onClick:function(){return e.props.setSort(t)}},t)}))))))}}]),a}(n.Component),f=a(33),v=a(35),E=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).arrangeList=function(t){if("Prominence"===t)return e.props.restaurants;if("Open now"===t)return e.props.restaurant.filter((function(e){return e.opening_hours.open_now}));var a;switch(t){case"Price (Lowest to Highest)":a=function(e,t){return(parseInt(e.price_level)||1e3)-(parseInt(t.price_level)||1e3)};break;case"Price (Highest to Lowest)":a=function(e,t){return-((parseInt(e.price_level)||1e3)-(parseInt(t.price_level)||1e3))};break;case"Rating":a=function(e,t){return-((parseFloat(e.rating)||-10)-(parseFloat(t.rating)||-10))}}return e.props.restaurants.sort(a)},e}return Object(l.a)(a,[{key:"render",value:function(){this.props.restaurants;var e=0;return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(f.a,null,this.arrangeList(this.props.sortField).map((function(t){return r.a.createElement(v.a,null,r.a.createElement(v.a.Header,null,r.a.createElement(f.a.Toggle,{as:m.a,variant:"link",eventKey:e+""},t.name," ",null!=t.price_level?"- "+"$".repeat(t.price_level):"")),r.a.createElement(f.a.Collapse,{eventKey:e+++""},r.a.createElement(v.a.Body,null,"Rating - ",t.rating,r.a.createElement("br",null),"Location - ",t.vicinity)))}))))}}]),a}(n.Component),b=a(65),S=a(64),w=a(63),O=a(62),k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).changeDisplayRestaurant=function(e){n.setState({displayRestaurant:e})},n.state={displayRestaurant:null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.restaurants;return r.a.createElement(b.a,{center:[38.0293,-78.4767],zoom:13,style:{height:"100vh",width:"100%"}},null!==this.state.displayRestaurant&&r.a.createElement(S.a,{position:[this.state.displayRestaurant.geometry.location.lat,this.state.displayRestaurant.geometry.location.lng],onClose:function(){e.changeDisplayRestaurant(null)}},r.a.createElement("h6",null,this.state.displayRestaurant.name," ",null!=this.state.displayRestaurant.price_level?"- "+"$".repeat(this.state.displayRestaurant.price_level):""),r.a.createElement("p",null,this.state.displayRestaurant.opening_hours.open_now?"Open now":"Currently closed",r.a.createElement("br",null),"Rating - ",this.state.displayRestaurant.rating," ",r.a.createElement("br",null),"Location - ",this.state.displayRestaurant.vicinity)),r.a.createElement(w.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(t){return r.a.createElement(O.a,{key:t.id,position:[t.geometry.location.lat,t.geometry.location.lng],onClick:function(){e.changeDisplayRestaurant(t)}})})))}}]),a}(n.Component),R=(a(55),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).setData=function(e){"OK"===e.status&&n.setState({restaurants:e.results})},n.test=function(){console.log(n.state.data)},n.setSort=function(e){n.setState({sortField:e})},n.state={restaurants:[],SearchText:"",sortField:"Prominence"},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,{setData:this.setData,passSearchInput:this.passSearchInput,setSort:this.setSort}),r.a.createElement("div",{className:"display"},r.a.createElement(E,{restaurants:this.state.restaurants,display:this.state.displayRestaurant,sortField:this.state.sortField}),r.a.createElement(k,{restaurants:this.state.restaurants,changeDisplayRestaurant:this.changeDisplayRestaurant})))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.f3fe6795.chunk.js.map