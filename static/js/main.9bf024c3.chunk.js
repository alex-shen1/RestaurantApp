(this.webpackJsonprestaurant_app=this.webpackJsonprestaurant_app||[]).push([[0],{41:function(e,t,a){e.exports=a(56)},46:function(e,t,a){},47:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(13),o=a.n(r),i=(a(46),a(14)),l=a(15),c=a(17),p=a(16),u=a(25),h=a(34),d=a(20),m=a(38),g=a(23),f=(a(47),function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).updateSearchPhrase=function(e){n.setState({searchPhrase:e})},n.keyPressed=function(e){"Enter"===e.key&&(e.preventDefault(),n.getData())},n.componentDidMount=function(){n.getData()},n.getData=function(){var e=n.state.searchPhrase,t="https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=".concat("AIzaSyBQRbOl8Z5HnrY12zURP84C6Tdwsoy-HUI","&radius=").concat(5e3,"&location=").concat("38.0293,-78.4767","&type=restaurant&keyword=").concat(e);fetch(t).then((function(e){return e.json()})).then((function(e){console.log(e),n.props.setData(e)})).catch((function(e){return console.log(e)}))},n.state={searchPhrase:""},n.updateSearchPhrase=n.updateSearchPhrase.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"topPanel"},s.a.createElement(m.a,{className:"TopPanel"},s.a.createElement("h1",{style:{fontWeight:"heavy"}},"Charlottesville Restaurant Search"),s.a.createElement(h.a,{style:{display:"inline-block",margin:"5px",verticalAlign:"middle"}},s.a.createElement(h.a.Group,null,s.a.createElement(h.a.Control,{style:{minWidth:"300px"},onChange:function(t){return e.updateSearchPhrase(t.target.value)},onKeyPress:this.keyPressed,id:"SearchText",className:"SearchBar",type:"textarea",placeholder:"Search for Charlottesville restaurants"}))),s.a.createElement(d.a,{style:{display:"inline-block",margin:"5px",verticalAlign:"middle"},onClick:this.getData},"Search"),s.a.createElement(g.a,{style:{display:"inline-block",margin:"5px",verticalAlign:"middle"}},s.a.createElement(g.a.Toggle,{variant:"success",id:"dropdown-basic"},"Sort by..."),s.a.createElement(g.a.Menu,null,["Prominence","Price (Lowest to Highest)","Price (Highest to Lowest)","Rating","Open Now"].map((function(t){return s.a.createElement(g.a.Item,{onClick:function(){return e.props.setSort(t)}},t)}))))))}}]),a}(n.Component)),y=a(33),_=a(35),v=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).arrangeList=function(){var e=n.props.sortField;if("Prominence"===e)n.setState({mutatedList:n.props.restaurants});else if("Open Now"===e)n.setState({mutatedList:n.props.restaurants.filter((function(e){return null!=e.opening_hours&&e.opening_hours.open_now}))});else{var t;switch(e){case"Price (Lowest to Highest)":t=function(e,t){return(parseInt(e.price_level)||1e3)-(parseInt(t.price_level)||1e3)};break;case"Price (Highest to Lowest)":t=function(e,t){return-((parseInt(e.price_level)||-10)-(parseInt(t.price_level)||-10))};break;case"Rating":t=function(e,t){return-((parseFloat(e.rating)||-10)-(parseFloat(t.rating)||-10))};break;default:console.log("no sort possible")}n.setState({mutatedList:n.props.restaurants.slice().sort(t)})}},n.state={mutatedList:[]},n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.sortField!==e.sortField&&(this.arrangeList(),console.log("changing sortfield")),this.props.restaurants!==e.restaurants&&(this.setState({mutatedList:this.props.restaurants}),console.log("changing data"))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"list",style:{textAlign:"left"}},s.a.createElement(y.a,{activeKey:null!=this.props.displayRestaurantIndex?this.props.displayRestaurantIndex.toString():null},this.state.mutatedList.map((function(t){return s.a.createElement(_.a,{key:t.id},s.a.createElement(_.a.Header,null,s.a.createElement(y.a.Toggle,{as:d.a,variant:"link",eventKey:e.props.restaurants.indexOf(t).toString(),onClick:function(a){e.props.setDisplayIndex(e.props.restaurants.indexOf(t))}},t.name," ",null!=t.price_level?"- "+"$".repeat(t.price_level):"")),s.a.createElement(y.a.Collapse,{eventKey:e.props.restaurants.indexOf(t).toString()},s.a.createElement(_.a.Body,null,"Rating - ",t.rating,s.a.createElement("br",null),"Location - ",t.vicinity,s.a.createElement("br",null),null!==t.opening_hours&&void 0!==t.opening_hours?t.opening_hours?"Open now":"Currently closed":"")))}))))}}]),a}(n.Component),b=a(65),E=a(64),C=a(63),R=a(62),O=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeDisplayRestaurant=function(e){n.setState({displayRestaurant:e}),n.props.setDisplayIndex(n.props.restaurants.indexOf(e))},n.state={},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.restaurants;return s.a.createElement(b.a,{className:"map",center:[38.0293,-78.4767],zoom:14,style:{height:"85vh",width:"100%"}},null!==this.props.displayRestaurant&&void 0!==this.props.displayRestaurant&&s.a.createElement(E.a,{position:[this.props.displayRestaurant.geometry.location.lat,this.props.displayRestaurant.geometry.location.lng],onClose:function(){e.changeDisplayRestaurant(null)}},s.a.createElement("h6",null,this.props.displayRestaurant.name," ",null!=this.props.displayRestaurant.price_level?"- "+"$".repeat(this.props.displayRestaurant.price_level):""),s.a.createElement("p",null,null!==this.props.displayRestaurant.opening_hours&&void 0!==this.props.displayRestaurant.opening_hours?this.props.displayRestaurant.opening_hours.open_now?"Open now":"Currently closed":"",s.a.createElement("br",null),"Rating - ",this.props.displayRestaurant.rating," ",s.a.createElement("br",null),"Location - ",this.props.displayRestaurant.vicinity)),s.a.createElement(C.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(t){return s.a.createElement(R.a,{key:t.id,position:[t.geometry.location.lat,t.geometry.location.lng],onClick:function(){e.changeDisplayRestaurant(t)}})})))}}]),a}(n.Component),S=(a(54),a(55),[{business_status:"OPERATIONAL",geometry:{location:{lat:38.02989309999999,lng:-78.47547689999999},viewport:{northeast:{lat:38.03116758029149,lng:-78.4741729197085},southwest:{lat:38.0284696197085,lng:-78.4768708802915}}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png",id:"e4e27f433db07955f9786c2afc40de52f394d9e0",name:"Guadalajara",opening_hours:{open_now:!1},photos:[{height:3036,html_attributions:['<a href="https://maps.google.com/maps/contrib/108731974968542679979">Jason Gale</a>'],photo_reference:"CmRaAAAAwwtAAU146gIfkqirIA7whXbjcrOR_uFFeAXkRXNTjYaZAxk-Z7FTf9VRmLmI6nGcsS0BJlgJrkIvgstuoy1ANLLgE9Dm6pvZMDUFRajC4auvLuoNPsCy25CSm--XjkXNEhBCtfHPYLpPn-YYjys2UjD9GhQRt8vDRRXxFOI7G6pqzPfDWfMwSg",width:4048}],place_id:"ChIJTyKzYieGs4kREUCGOYLpk6c",plus_code:{compound_code:"2GHF+XR Charlottesville, Virginia, United States",global_code:"87C32GHF+XR"},price_level:1,rating:4.3,reference:"ChIJTyKzYieGs4kREUCGOYLpk6c",scope:"GOOGLE",types:["restaurant","food","point_of_interest","establishment"],user_ratings_total:430,vicinity:"805 East Market Street, Charlottesville"},{business_status:"OPERATIONAL",geometry:{location:{lat:38.0295669,lng:-78.47796000000001},viewport:{northeast:{lat:38.0312143802915,lng:-78.4767912197085},southwest:{lat:38.0285164197085,lng:-78.47948918029152}}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png",id:"faf20e6a2e1d1c1bdee9c0790ea640c51348a1ea",name:"Himalayan Fusion",opening_hours:{open_now:!1},photos:[{height:3024,html_attributions:['<a href="https://maps.google.com/maps/contrib/115451595125996928003">Andrew Nash</a>'],photo_reference:"CmRaAAAAOvF8pd70pFG6-QdhwcXz-lBcDtBhLDaEVC4-qjyhjlw73XSRQ5HULIOGQpnqV4gVR6QBKVr7-DtiVNyiPdGblaRtXtOd18Ez3CKyb8OxpPC6MWe9EBoZExbkxLCeJdzeEhBmOVBNGHf3DlIhwvS4uD2IGhQMqPl7o3ors_iMrW4eHBu9kEDlSg",width:4032}],place_id:"ChIJhWefHSeGs4kREuONhoJL21w",plus_code:{compound_code:"2GHC+RR Charlottesville, Virginia, United States",global_code:"87C32GHC+RR"},price_level:2,rating:4.4,reference:"ChIJhWefHSeGs4kREuONhoJL21w",scope:"GOOGLE",types:["restaurant","food","point_of_interest","establishment"],user_ratings_total:225,vicinity:"520 East Main Street, Charlottesville"},{business_status:"OPERATIONAL",geometry:{location:{lat:38.0293059,lng:-78.47667810000002},viewport:{northeast:{lat:38.0306548802915,lng:-78.4753291197085},southwest:{lat:38.0279569197085,lng:-78.47802708029151}}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png",id:"f8cf266a1becf5034ce18c9fa5c44bae5002699e",name:"Wood grill",place_id:"ChIJFTjpjE-Hs4kRYdAOnc-m1j8",plus_code:{compound_code:"2GHF+P8 Charlottesville, Virginia, United States",global_code:"87C32GHF+P8"},reference:"ChIJFTjpjE-Hs4kRYdAOnc-m1j8",scope:"GOOGLE",types:["restaurant","food","point_of_interest","establishment"],vicinity:"Charlottesville"},{business_status:"OPERATIONAL",geometry:{location:{lat:38.0293059,lng:-78.47667810000002},viewport:{northeast:{lat:38.0306548802915,lng:-78.4753291197085},southwest:{lat:38.0279569197085,lng:-78.47802708029151}}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png",id:"ceef8f1f7080ab5a40a6fb9371b6380b1091a6c7",name:"Azteca",place_id:"ChIJpS2T_yaHs4kRJmEoIgiGNGA",plus_code:{compound_code:"2GHF+P8 Charlottesville, Virginia, United States",global_code:"87C32GHF+P8"},reference:"ChIJpS2T_yaHs4kRJmEoIgiGNGA",scope:"GOOGLE",types:["restaurant","food","point_of_interest","establishment"],vicinity:"Charlottesville"},{business_status:"OPERATIONAL",geometry:{location:{lat:38.0298817,lng:-78.4779606},viewport:{northeast:{lat:38.0312800302915,lng:-78.47679921970848},southwest:{lat:38.0285820697085,lng:-78.4794971802915}}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png",id:"b293e1c62a7524b6ced92d156f9b9d1e08c5736b",name:"Bashir's",opening_hours:{open_now:!1},photos:[{height:3024,html_attributions:['<a href="https://maps.google.com/maps/contrib/115451595125996928003">Andrew Nash</a>'],photo_reference:"CmRaAAAA9EKZ-cLAG0GsgD9hZ3-ASAhywdZpm-vMs6AO2L0Dv8WYfF6hreCak0nz6JBX1ZBazTStBqrcsDRfpwfLda01_SG6JndRz2oprgxiRm0IMukHDZCWfUfDSKMSePQwegR6EhAENggLA5wPp28iWgS39PNXGhTiwI4IBqzbg3HMB2uGX236k6a5Lg",width:4032}],place_id:"ChIJHU0E4yaGs4kRuCzvGoFNmzI",plus_code:{compound_code:"2GHC+XR Charlottesville, Virginia, United States",global_code:"87C32GHC+XR"},price_level:2,rating:4.2,reference:"ChIJHU0E4yaGs4kRuCzvGoFNmzI",scope:"GOOGLE",types:["restaurant","food","point_of_interest","establishment"],user_ratings_total:42,vicinity:"507 East Main Street, Charlottesville"},{business_status:"OPERATIONAL",geometry:{location:{lat:38.0303811,lng:-78.47693819999999},viewport:{northeast:{lat:38.0316679302915,lng:-78.4756239197085},southwest:{lat:38.0289699697085,lng:-78.4783218802915}}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png",id:"6329a5f26091b592351081c47b690cdb3b5397aa",name:"Tin Whistle Pub",opening_hours:{open_now:!1},photos:[{height:3024,html_attributions:['<a href="https://maps.google.com/maps/contrib/105509553038982717852">Andrew Warren</a>'],photo_reference:"CmRaAAAAGCS3TraqnC3CIDkGsCl52g_Dp85S3ffR5Ud6PSkk2WU36UzY3eQTo9qXzgZlbjEOIaP6HJNA15WVN5QDF6T_bp6XJMGxI5t99ZvmyVT-u1_kEFWDBUS_MHHI8rWVdea7EhBerDVb9pXXYXdvC1d1Auk0GhT8diY4ya2pDkHQudkqLEzXnmqvDg",width:4032}],place_id:"ChIJsbbhByeGs4kRnOf5pBSDiCQ",plus_code:{compound_code:"2GJF+56 Charlottesville, Virginia, United States",global_code:"87C32GJF+56"},price_level:2,rating:4.5,reference:"ChIJsbbhByeGs4kRnOf5pBSDiCQ",scope:"GOOGLE",types:["bar","restaurant","food","point_of_interest","establishment"],user_ratings_total:221,vicinity:"609 East Market Street, Charlottesville"}]),k=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setData=function(e){"OK"===e.status&&n.setState({restaurants:e.results})},n.setSort=function(e){n.setState({sortField:e})},n.setDisplayIndex=function(e){n.setState({displayRestaurantIndex:e})},n.state={restaurants:S,sortField:"Prominence",displayRestaurantIndex:null},n}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(f,{setData:this.setData,passSearchInput:this.passSearchInput,setSort:this.setSort}),s.a.createElement("div",{className:"display"},s.a.createElement(v,{restaurants:this.state.restaurants,displayRestaurantIndex:this.state.displayRestaurantIndex,setDisplayIndex:this.setDisplayIndex,sortField:this.state.sortField}),s.a.createElement(O,{restaurants:this.state.restaurants,setDisplayIndex:this.setDisplayIndex,displayRestaurant:this.state.restaurants[this.state.displayRestaurantIndex]})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.9bf024c3.chunk.js.map